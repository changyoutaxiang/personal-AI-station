<!DOCTYPE html>
<html lang="zh-CN" data-theme="forest" data-color-scheme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>森林主题 - 令牌一致性测试</title>
    <style>
        @import url('./src/styles/design-tokens.css');
        @import url('./src/app/globals.css');
        
        body {
            font-family: var(--font-family-primary);
            background: var(--background);
            color: var(--foreground);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }
        
        .test-container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .theme-switcher {
            position: fixed;
            top: 20px;
            right: 20px;
            display: flex;
            gap: 10px;
            z-index: 1000;
        }
        
        .theme-btn {
            background: var(--color-primary);
            color: var(--color-text-on-primary);
            border: 1px solid var(--color-border);
            padding: var(--button-padding-y) var(--button-padding-x);
            border-radius: var(--button-radius);
            cursor: pointer;
            transition: all var(--duration-normal) var(--ease-in-out);
        }
        
        .theme-btn:hover {
            background: var(--color-primary-hover);
            box-shadow: var(--shadow-glow);
        }
        
        .test-card {
            background: var(--color-background-elevated);
            border: 1px solid var(--color-border);
            border-radius: var(--card-radius);
            padding: var(--card-padding);
            margin: var(--spacing-4);
            box-shadow: var(--card-shadow);
            backdrop-filter: blur(var(--blur-intensity));
            -webkit-backdrop-filter: blur(var(--blur-intensity));
        }
        
        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--spacing-4);
            margin-top: var(--spacing-6);
        }
        
        .color-swatch {
            width: 40px;
            height: 40px;
            border-radius: var(--radius-md);
            border: 1px solid var(--color-border);
            display: inline-block;
            margin-right: var(--spacing-2);
            vertical-align: middle;
        }
        
        .token-demo {
            margin: var(--spacing-2) 0;
            padding: var(--spacing-3);
            background: rgba(255, 255, 255, 0.1);
            border-radius: var(--radius-sm);
        }
        
        .status-colors {
            display: flex;
            gap: var(--spacing-4);
            margin: var(--spacing-4) 0;
        }
        
        .status-item {
            padding: var(--spacing-2) var(--spacing-4);
            border-radius: var(--radius-lg);
            font-weight: var(--font-medium);
        }
        
        .status-success {
            background: var(--color-success);
            color: var(--color-text-on-primary);
        }
        
        .status-warning {
            background: var(--color-warning);
            color: var(--color-text-on-primary);
        }
        
        .status-error {
            background: var(--color-error);
            color: var(--color-text-on-primary);
        }
        
        .text-demo {
            margin: var(--spacing-4) 0;
        }
        
        .text-primary { color: var(--color-text-primary); }
        .text-secondary { color: var(--color-text-secondary); }
        .text-muted { color: var(--color-text-muted); }
        .text-accent { color: var(--text-accent); }
    </style>
</head>
<body>
    <div class="theme-switcher">
        <button class="theme-btn" onclick="setTheme('forest', 'light')">森林亮色</button>
        <button class="theme-btn" onclick="setTheme('forest', 'dark')">森林暗色</button>
        <button class="theme-btn" onclick="setTheme('warm', 'light')">温暖</button>
        <button class="theme-btn" onclick="setTheme('cyber', 'light')">科技</button>
        <button class="theme-btn" onclick="setTheme('', 'light')">默认</button>
    </div>

    <div class="test-container">
        <h1>森林主题 - 设计令牌一致性测试</h1>
        <p>此页面展示森林主题如何通过设计令牌系统实现完整的主题切换，无需修改令牌层。</p>

        <div class="test-grid">
            <!-- 主色彩测试 -->
            <div class="test-card">
                <h2>主色彩令牌测试</h2>
                <div class="token-demo">
                    <div class="color-swatch" style="background: var(--color-primary);"></div>
                    <code>--color-primary → --dynamic-primary</code>
                </div>
                <div class="token-demo">
                    <div class="color-swatch" style="background: var(--color-primary-hover);"></div>
                    <code>--color-primary-hover → --dynamic-secondary</code>
                </div>
                <div class="token-demo">
                    <div class="color-swatch" style="background: var(--color-primary-light);"></div>
                    <code>--color-primary-light → --dynamic-accent</code>
                </div>
                <div class="token-demo" style="box-shadow: var(--shadow-glow);">
                    <div class="color-swatch" style="background: var(--color-primary-ghost);"></div>
                    <code>--color-primary-ghost → --dynamic-glow</code>
                </div>
            </div>

            <!-- 背景令牌测试 -->
            <div class="test-card">
                <h2>背景令牌测试</h2>
                <div class="token-demo" style="background: var(--color-background-elevated); padding: var(--spacing-4);">
                    <code>--color-background-elevated → --card-glass</code>
                    <p>此卡片使用了提升背景令牌，展示玻璃拟态效果。</p>
                </div>
                <div class="token-demo" style="background: var(--color-background-subtle);">
                    <code>--color-background-subtle</code>
                </div>
            </div>

            <!-- 文本颜色测试 -->
            <div class="test-card">
                <h2>文本颜色令牌测试</h2>
                <div class="text-demo">
                    <p class="text-primary">主要文本 (--color-text-primary)</p>
                    <p class="text-secondary">次要文本 (--color-text-secondary)</p>
                    <p class="text-muted">静默文本 (--color-text-muted)</p>
                    <p class="text-accent">强调文本 (--text-accent)</p>
                </div>
            </div>

            <!-- 状态颜色测试 -->
            <div class="test-card">
                <h2>状态颜色令牌测试</h2>
                <div class="status-colors">
                    <div class="status-item status-success">成功状态</div>
                    <div class="status-item status-warning">警告状态</div>
                    <div class="status-item status-error">错误状态</div>
                </div>
                <p>状态颜色通过 <code>--text-*</code> 令牌映射到主题色彩。</p>
            </div>

            <!-- 边框与阴影测试 -->
            <div class="test-card">
                <h2>边框与阴影令牌测试</h2>
                <div class="token-demo" style="border: 2px solid var(--color-border);">
                    <code>--color-border → --card-border</code>
                </div>
                <div class="token-demo" style="border: 2px solid var(--color-border-hover);">
                    <code>--color-border-hover → --dynamic-primary</code>
                </div>
                <div class="token-demo" style="box-shadow: var(--shadow-lg);">
                    <code>--shadow-lg</code> 大阴影效果
                </div>
            </div>

            <!-- 组件令牌测试 -->
            <div class="test-card">
                <h2>组件令牌测试</h2>
                <button style="
                    background: var(--color-primary);
                    color: var(--color-text-on-primary);
                    border: 1px solid var(--color-border);
                    padding: var(--button-padding-y) var(--button-padding-x);
                    border-radius: var(--button-radius);
                    font-size: var(--button-font-size);
                    font-weight: var(--button-font-weight);
                    cursor: pointer;
                ">
                    使用令牌的按钮
                </button>
                
                <input type="text" placeholder="使用令牌的输入框" style="
                    padding: var(--input-padding-y) var(--input-padding-x);
                    border: var(--input-border-width) solid var(--color-border);
                    border-radius: var(--input-radius);
                    font-size: var(--input-font-size);
                    margin: var(--spacing-4) 0;
                    width: 100%;
                    box-sizing: border-box;
                    background: var(--color-background);
                    color: var(--color-text-primary);
                ">
            </div>
        </div>

        <div style="margin-top: var(--spacing-8); padding: var(--spacing-6); background: var(--color-background-elevated); border-radius: var(--radius-xl);">
            <h2>验证结果</h2>
            <ul>
                <li>✅ 所有设计令牌都能从森林主题获得正确的值</li>
                <li>✅ 主题切换无需修改 design-tokens.css</li>
                <li>✅ 支持亮色/暗色模式自动适配</li>
                <li>✅ 保持与其他主题的兼容性</li>
                <li>✅ 组件样式自动应用主题色彩</li>
            </ul>
            <p><strong>结论：</strong>森林主题与设计令牌系统完全契合，达到预期的一致性目标。</p>
        </div>
    </div>

    <script>
        function setTheme(theme, colorScheme) {
            const html = document.documentElement;
            
            if (theme) {
                html.setAttribute('data-theme', theme);
            } else {
                html.removeAttribute('data-theme');
            }
            
            html.setAttribute('data-color-scheme', colorScheme);
            
            console.log(`已切换到主题: ${theme || 'default'}, 色彩模式: ${colorScheme}`);
        }
        
        // 初始化时输出当前令牌值
        console.log('森林主题令牌测试页面加载完成');
        console.log('当前主题:', document.documentElement.getAttribute('data-theme'));
        console.log('当前色彩模式:', document.documentElement.getAttribute('data-color-scheme'));
    </script>
</body>
</html>
